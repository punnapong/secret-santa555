<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏à‡∏±‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà</title>
<style>
body {
  font-family: sans-serif;
  text-align: center;
  margin-top: 50px;
}
input, button {
  font-size: 22px;
  padding: 10px;
  margin: 8px;
}
#result {
  font-size: 26px;
  margin-top: 20px;
}
</style>
</head>

<body>

<h2>‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
<input id="code" placeholder="‡πÄ‡∏ä‡πà‡∏ô BRT7K2">
<br>
<button onclick="draw()">‡∏î‡∏π‡∏ú‡∏•‡∏à‡∏±‡∏ö‡∏â‡∏•‡∏≤‡∏Å</button>

<p id="result"></p>

<script>
// ======================
// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô + ‡∏£‡∏´‡∏±‡∏™ + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß + ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç
// ======================
const users = {
  "BRT7K2": { name: "‡πÑ‡∏ö‡∏£‡πå‡∏ó", used: false, result: "" },
  "TRD9Q4": { name: "‡πÄ‡∏ï‡∏¥‡∏£‡πå‡∏î", used: false, result: "" },
  "BRD5X8": { name: "‡πÄ‡∏ö‡∏¥‡∏£‡πå‡∏î", used: false, result: "" },
  "MAY3L6": { name: "‡πÄ‡∏°‡∏¢‡πå", used: false, result: "" }
};

// ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏≤‡∏Å localStorage
let data = JSON.parse(localStorage.getItem("gift_data")) || users;

// ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç
const prizes = ["‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥", "‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤", "‡∏£‡πà‡∏°", "‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏û‡∏¥‡πÄ‡∏®‡∏©"];

function draw() {
  const code = document.getElementById("code").value.trim();
  const output = document.getElementById("result");

  if (!data[code]) {
    output.innerText = "‚ùå ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
    return;
  }

  // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏¢‡∏à‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏î‡∏¥‡∏°
  if (data[code].used) {
    output.innerText =
      "üéÅ " + data[code].name + " ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: " + data[code].result;
    return;
  }

  // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏à‡∏±‡∏ö ‚Üí ‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
  const prize = prizes[Math.floor(Math.random() * prizes.length)];

  data[code].used = true;
  data[code].result = prize;

  // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏á localStorage
  localStorage.setItem("gift_data", JSON.stringify(data));

  output.innerText =
    "üéâ " + data[code].name + " ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: " + prize;
}
</script>

</body>
</html>
